<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:AutomacaoGDA.UI.ViewModels"
             xmlns:models="clr-namespace:AutomacaoGDA.Core.Models;assembly=AutomacaoGDA.Core"
             x:Class="AutomacaoGDA.UI.Views.StockCopyView"
             x:DataType="vm:StockCopyViewModel"
             x:CompileBindings="False">
  <StackPanel Margin="12" Spacing="10">
    <TextBlock Text="Copiar OperationStock entre ambientes" FontSize="16" FontWeight="SemiBold" />

    <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto">
      <StackPanel Orientation="Horizontal" Spacing="6" Margin="0,0,0,8">
        <TextBlock Text="Ambiente origem" VerticalAlignment="Center" />
        <Button Content="⟳"
                Width="28"
                Height="28"
                VerticalAlignment="Center"
                Command="{Binding AtualizarOperacoesOrigemCommand}" />
      </StackPanel>
      <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="6" Margin="12,0,0,8">
        <TextBlock Text="Ambiente destino" VerticalAlignment="Center" />
        <Button Content="⟳"
                Width="28"
                Height="28"
                VerticalAlignment="Center"
                Command="{Binding AtualizarOperacoesDestinoCommand}" />
      </StackPanel>
      <ComboBox Grid.Row="1"
                ItemsSource="{Binding Conexoes}"
                SelectedItem="{Binding AmbienteOrigem}">
        <ComboBox.ItemTemplate>
          <DataTemplate x:DataType="models:ConexaoConfig">
            <TextBlock Text="{Binding Ambiente}" />
          </DataTemplate>
        </ComboBox.ItemTemplate>
      </ComboBox>
      <ComboBox Grid.Row="1" Grid.Column="1"
                ItemsSource="{Binding Conexoes}"
                SelectedItem="{Binding AmbienteDestino}"
                Margin="12,0,0,0">
        <ComboBox.ItemTemplate>
          <DataTemplate x:DataType="models:ConexaoConfig">
            <TextBlock Text="{Binding Ambiente}" />
          </DataTemplate>
        </ComboBox.ItemTemplate>
      </ComboBox>
    </Grid>

    <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto">
      <TextBlock Text="Operacao origem" Margin="0,0,0,8" />
      <TextBlock Grid.Column="1" Text="Operacao destino" Margin="12,0,0,8" />
      <ComboBox Grid.Row="1"
                ItemsSource="{Binding OperacoesOrigem}"
                SelectedItem="{Binding OperacaoOrigem}">
        <ComboBox.ItemTemplate>
          <DataTemplate x:DataType="models:OperationInfo">
            <TextBlock Text="{Binding DisplayName}" />
          </DataTemplate>
        </ComboBox.ItemTemplate>
      </ComboBox>
      <ComboBox Grid.Row="1" Grid.Column="1"
                ItemsSource="{Binding OperacoesDestino}"
                SelectedItem="{Binding OperacaoDestino}"
                Margin="12,0,0,0">
        <ComboBox.ItemTemplate>
          <DataTemplate x:DataType="models:OperationInfo">
            <TextBlock Text="{Binding DisplayName}" />
          </DataTemplate>
        </ComboBox.ItemTemplate>
      </ComboBox>
    </Grid>

    <StackPanel Orientation="Horizontal" Spacing="12">
      <Button Content="Copiar OperationStock" Click="OnCopiarStockClick" IsEnabled="{Binding PodeCopiar}" />
      <CheckBox Content="Executar sumarizacao" IsChecked="{Binding ExecutarSumarizacao}" />
      <SelectableTextBlock Text="{Binding Status}" VerticalAlignment="Center" />
    </StackPanel>

    <StackPanel Orientation="Horizontal" Spacing="8">
      <ProgressBar Width="360"
                   Height="10"
                   IsIndeterminate="{Binding IsCopiando}"
                   Minimum="0"
                   Maximum="{Binding TotalRegistros}"
                   Value="{Binding Copiados}" />
      <SelectableTextBlock Text="{Binding ProgressoTexto}" VerticalAlignment="Center" />
    </StackPanel>
  </StackPanel>
</UserControl>
